<div class="rounded-xl bg-card-light dark:bg-card-dark border border-slate-200 dark:border-white/10 overflow-hidden shadow-sm">
  <div class="px-6 py-4 border-b border-slate-200 dark:border-white/10 flex justify-between items-center">
    <h3 class="font-bold text-lg text-text-light dark:text-text-dark">Summary</h3>
    <span class="text-xs text-slate-500 uppercase tracking-widest">{{ budget().items.length }} Items Selected</span>
  </div>
  <div class="overflow-x-auto">
    <table class="w-full text-left">
      <thead>
      <tr class="bg-slate-100 dark:bg-white/5">
        <th class="px-6 py-3 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider">Service</th>
        <th class="px-6 py-3 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider">Quant.</th>
        <th class="px-6 py-3 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider">Unit. Price</th>
        <th class="px-6 py-3 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider text-right">Total</th>
      </tr>
      </thead>
      <tbody class="divide-y divide-slate-200 dark:divide-white/5">
        @for (service of budget().items; track service.id) {
          <tr class="hover:bg-slate-50 dark:hover:bg-white/[0.02] transition-colors">
            <td class="px-6 py-5">
              <div class="font-bold text-text-light dark:text-text-dark">{{ service.name }}</div>
              <div class="text-sm text-slate-500 dark:text-slate-400">{{ service.description }}</div>
              @if (service.name === 'Web') {
                <br>
                <ul class="bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-white/10 rounded-md p-3 space-y-2 text-sm text-slate-500 dark:text-slate-400 w-fit">
                  <div class="text-sm text-slate-500 dark:text-slate-400">Extras (+30€ for each page and language):</div>
                  <li class="flex items-center justify-between gap-3">
                    <div class="flex items-center gap-3">
                      <span class="">Number of</span>
                      <span class="inline-flex items-center justify-center p-2 h-7 rounded-full bg-primary/10 text-primary text-xs font-semibold">Pages</span>
                    </div>
                    <span class="ml-2 font-semibold text-text-light dark:text-text-dark">{{ service.options?.pages ?? '—' }}</span>
                  </li>

                  <li class="flex items-center justify-between gap-3">
                    <div class="flex items-center gap-3">
                      <span>Number of </span>
                      <span class="inline-flex items-center justify-center p-2 h-7 rounded-full bg-primary/10 text-primary text-xs font-semibold">Languages</span>
                    </div>
                    <span class="ml-2 font-semibold text-text-light dark:text-text-dark">{{ service.options?.languages ?? '—' }}</span>
                  </li>
                </ul>
              }

            </td>
            <td class="px-6 py-5 text-slate-600 dark:text-slate-300">1</td>
            <td class="px-6 py-5 text-slate-600 dark:text-slate-300">{{ (service.price).toFixed(2) }}€</td>
            <td class="px-6 py-5 text-right font-bold text-text-light dark:text-text-dark">{{ (service.options !== undefined? service.price + budget().webServiceSubtotal : service.price).toFixed(2) }}€</td>
          </tr>
        }

      </tbody>
    </table>
  </div>
  <div class="bg-slate-50 dark:bg-black/20 p-6 flex flex-col items-end gap-2 border-t border-slate-200 dark:border-white/10">
    <div class="flex justify-between w-full max-w-[200px] text-slate-500 dark:text-slate-400 text-sm">
      <span>Subtotal:</span>
      <span>{{ budget().totals }}€</span>
    </div>
    <div class="flex justify-between w-full max-w-[200px] text-slate-500 dark:text-slate-400 text-sm">
      <span>IVA (21%):</span>
      <span>{{ (budget().totals*0.21).toFixed(2) }}€</span>
    </div>
    <div class="flex justify-between w-full max-w-[240px] text-text-light dark:text-text-dark font-bold text-xl pt-2 mt-2 border-t border-slate-200 dark:border-white/10">
      <span>Total:</span>
      <span class="text-primary">{{ (budget().totals*1.21).toFixed(2) }}€</span>
    </div>
  </div>
</div>

